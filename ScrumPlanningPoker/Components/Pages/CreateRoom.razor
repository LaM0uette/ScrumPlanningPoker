@page "/"
@attribute [RenderModeInteractiveServer(false)]
@inject NavigationManager NavigationManager

<h2>Create a New Room</h2>

<button @onclick="Create">Create Room</button>

@if (!string.IsNullOrEmpty(roomLink))
{
    <p>Room Link: <a href="@roomLink">Lien de la room</a></p>
}

@code {
    private string roomLink;

    private void Create()
    {
        var roomName = GenerateUniqueRoomName();
        roomLink = NavigationManager.BaseUri + $"JoinRoom/{roomName}";
    }

    private static string GenerateUniqueRoomName()
    {
        return Guid.NewGuid().ToString("N");
    }
}